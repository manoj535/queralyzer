<!DOCTYPE html>
<html>
<head>
<title>Transformation Gadget</title>
<link href="bootstrap/css/font-awesome.css" rel="stylesheet">
<link href="bootstrap/css/bootstrap-combined.no-icons.min.css"
	rel="stylesheet">
<link href="css/queralyzer.css" rel="stylesheet">

<script src="js/lib/d3.min.js" type="text/javascript"></script>
<script src="js/lib/jquery.min.js"></script>
<script src="js/app/TypeFactory.js" type="text/javascript"></script>
<script src="js/app/ExplainTree.js" type="text/javascript"></script>
<script src="js/app/App.js" type="text/javascript"></script>
<script src="js/app/transformation.js" type="text/javascript"></script>
<script src="bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
<script type="text/javascript">
 	$(function () {
		 $('#reset').click(function () {
			 queralyzer.transformation.reset();
         });
		 
         $('#browse').on('change', function () {
        	 document.getElementsByName('jsonContent')[0].value = "";
        	 queralyzer.transformation.readfile();
        	 document.getElementsByName('transform')[0].disabled = false;
         });
         
         $('#transform').click(function (){
        	 $('#info').html("");
        	 document.getElementsByName('jsonContent')[0].value = "";
        	 if (document.getElementsByName('fileContent')[0].value == "") {
     			$('#info').html("Error : Empty data could not be tranformed!!!");
     			return false;
     		}
        	 queralyzer.transformation.transfrom();
         });
    		
	}); 
	</script>
<body>
	<header>
		<div class="headerWrapper">
			<img src="img/pramati.png" style="height: 24px; float: left;">
			<a class="logo" href=""></a>
			<button id="reset" class="btn btn-primary pull-right">Reset</button>
		</div>
	</header>

	<div class="transformation_gadget">
		<div class="page_header">Transformation Gadget</div>
		<div class="form_data">
			<div id="fileupload">
				Choose File <input type="file" id="browse" class="btn btn-primary"
					name="fileupload" />
			</div>
			<div id="fileContent">
				File Content
				<textarea name="fileContent" class="textarea" id="fileContent"></textarea>
				<br>
				<br>
				<br> <input type="button" name="transform" id="transform"
					value="Transform" disabled="disabled" class="btn btn-primary" />
				<div id="info" style="color: red; left: 60px; font-size: 15px;"></div>
			</div>
			<div id="jsonContent">
				JSON Content
				<textarea class="textarea" name="jsonContent" id="jsonContent"></textarea>
			</div>
			<div id="treeStructure">
				JSON in Tree structure
				<div id="jsontreeview"></div>
			</div>
		</div>
	</div>
</body>
</html>