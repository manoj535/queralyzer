<!DOCTYPE html>
<html>
<head>
<title>Transformation Gadget</title>

<link href="bootstrap/css/font-awesome.css" rel="stylesheet">
<link href="bootstrap/css/bootstrap-combined.no-icons.min.css"
	rel="stylesheet">
<link href="css/transformer.css" rel="stylesheet">

<script src="js/lib/d3.min.js" type="text/javascript"></script>
<script src="js/lib/jquery.min.js"></script>
<script src="js/app/TypeFactory.js" type="text/javascript"></script>
<script src="js/app/ExplainTree.js" type="text/javascript"></script>
<script src="js/app/App.js" type="text/javascript"></script>
<script src="js/app/Transformation.js" type="text/javascript"></script>
<script src="bootstrap/js/bootstrap.min.js" type="text/javascript"></script>

<script type="text/javascript">
	$(function() {
		$('#reset').click(function() {
			queralyzer.Transformation.reset();
		});

		$('#browse').on('change', function() {
			document.getElementsByName('jsonContent')[0].value = "";
			$("#jsontreeview").empty();
			queralyzer.Transformation.readfile();
			document.getElementsByName('transform')[0].disabled = false;
		});

		$('#transform')
				.click(
						function() {
							$('#info').html("");
							document.getElementsByName('jsonContent')[0].value = "";
							if (document.getElementsByName('fileData')[0].value == "") {
								$('#info')
										.html(
												"Error : Empty data could not be tranformed!!!");
								return false;
							}
							queralyzer.Transformation.transfrom();
						});

	});
</script>
<body>
	<header>
		<div class="headerWrapper">
			<img src="img/pramati.png" style="height: 24px; float: left;">
			<a class="logo" href=""></a>
			<button id="reset" class="btn btn-primary pull-right">Reset</button>
		</div>
	</header>

	<div class="transformationgadget">
		<div class="pageheader">Transformation Gadget</div>
		 <div class="formdata">
	
		  <div class="fileupload">
				Choose File <input type="file" id="browse" class="btn btn-primary"
					name="fileupload" />
			</div>
			
			<div id="fileContent">
				File Content
				<textarea name="fileData" class="fileData"
					placeholder="Display access plan from the given file."></textarea>
				 <input type="button" name="transform"
					id="transform" value="Transform" disabled="disabled"
					class="btn btn-primary" />
				<div id="info"></div>
			</div>
			
			<div id="jsonFormattedContent">
				JSON Content
				<textarea class="textarea" name="jsonContent" id="jsonContent"
					placeholder="Display acess plan in JSON formatted format."></textarea>
			</div>
			<div id="jsonTreeStructure">
				JSON in Tree structure
				<div id="jsontreeview"></div>
			</div>
		</div> 
	</div>
</body>
</html>